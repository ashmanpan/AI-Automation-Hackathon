version: 1

# Frontend Build Configuration for React/Vite App
frontend:
  phases:
    preBuild:
      commands:
        - cd frontend
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: frontend/dist
    files:
      - '**/*'
  cache:
    paths:
      - frontend/node_modules/**/*

# Environment variables needed (set in Amplify Console):
# VITE_API_URL=<Your Backend API URL>
# VITE_WS_URL=<Your Backend WebSocket URL>
#
# Examples:
# VITE_API_URL=https://api.yourdomain.com
# VITE_WS_URL=wss://api.yourdomain.com
#
# Or with API Gateway:
# VITE_API_URL=https://abc123.execute-api.us-east-1.amazonaws.com/prod
# VITE_WS_URL=wss://abc123.execute-api.us-east-1.amazonaws.com/prod

# AWS DEPLOYMENT CONFIGURATION
# This configuration uses AWS S3 for object storage and is designed for AWS Amplify/EC2/ECS

# Server Configuration
PORT=5000
NODE_ENV=production

# Database Configuration
# For AWS RDS PostgreSQL
DB_HOST=your-rds-endpoint.region.rds.amazonaws.com
DB_PORT=5432
DB_NAME=hackathon_platform
DB_USER=postgres
DB_PASSWORD=your_secure_rds_password_here

# JWT Configuration
JWT_SECRET=your_secret_key_here_change_in_production
JWT_EXPIRES_IN=24h

# CORS Configuration
# Update with your frontend URL
# CORS_ORIGIN=https://your-frontend-domain.com

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# Storage Configuration - AWS S3
USE_MINIO=false
USE_AWS_S3=true

# AWS S3 Configuration
# If running on EC2/ECS with IAM role, you can omit ACCESS_KEY_ID and SECRET_ACCESS_KEY
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_S3_BUCKET=hackathon-files

# OpenAI Configuration (for AI grading)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=2000

# AI Grading Configuration
AI_GRADING_ENABLED=true
AI_GRADING_AUTO=false

# ===================================================================
# DEPLOYMENT NOTES:
# ===================================================================
# AWS SERVICES REQUIRED:
# - RDS PostgreSQL (or Aurora PostgreSQL)
# - S3 Bucket (for file storage)
# - EC2/ECS/Amplify (for hosting)
# - IAM Role (with S3 and RDS permissions)
#
# SETUP STEPS:
# 1. Create RDS PostgreSQL instance
#    - Update DB_HOST with RDS endpoint
#    - Configure security groups to allow connections
#
# 2. Create S3 bucket
#    - Create bucket with name specified in AWS_S3_BUCKET
#    - Configure CORS if needed for presigned URLs
#    - Set bucket policy for application access
#
# 3. Configure IAM
#    - Create IAM role with S3 and RDS permissions
#    - Attach role to EC2/ECS instance (preferred)
#    - Or use ACCESS_KEY_ID and SECRET_ACCESS_KEY
#
# 4. Deploy application
#    - For EC2: Use CodeDeploy or manual deployment
#    - For ECS: Use ECR + ECS Service
#    - For Amplify: Connect Git repository
#
# 5. Run database migrations
#    - Connect to RDS and run migrations
#    - Use AWS Systems Manager Session Manager for secure access
#
# IAM ROLE PERMISSIONS REQUIRED:
# - s3:PutObject
# - s3:GetObject
# - s3:DeleteObject
# - s3:HeadObject
# - s3:HeadBucket
# - rds:DescribeDBInstances (optional)
# ===================================================================
